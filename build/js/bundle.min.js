function showErrorAlert(){const e=document.createElement("DIV");e.classList.add("alert-container","in");const t=document.createElement("DIV");t.classList.add("alert","in");const n=document.createElement("SPAN"),o=document.createElement("P");o.classList.add("alert-title"),o.textContent="El archivo no se puede subir";const i=document.createElement("P");i.classList.add("alert-info"),i.textContent="El formato debe ser PDF";const c=document.createElement("BUTTON");c.classList.add("button"),c.textContent="Ok",c.addEventListener("click",()=>{t.classList.remove("in"),t.classList.add("out"),e.classList.remove("in"),e.classList.add("out"),setTimeout(()=>{e.remove(),document.body.classList.remove("alert")},950)}),t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(c),e.appendChild(t),e.addEventListener("click",(function(e){e.target===this&&(t.classList.remove("in"),t.classList.add("out"),this.classList.remove("in"),this.classList.add("out"),setTimeout(()=>{this.remove(),document.body.classList.remove("alert")},950))})),document.body.classList.add("alert"),document.body.appendChild(e)}function startApp(){resetFileInput(),dragNdrop()}function dragNdrop(){const e=document.querySelector(".upload-section");let t=!1;e.addEventListener("dragover",(function(e){e.preventDefault(),t=!0,highlight(this)})),e.addEventListener("dragleave",(function(e){t=!1,setTimeout(()=>{t||unhighlight(this)},10)})),e.addEventListener("drop",(function(e){e.preventDefault(),unhighlight(this),handleDrop(e)})),document.body.addEventListener("dragover",(function(e){e.preventDefault()})),document.body.addEventListener("drop",(function(e){e.preventDefault()}))}function handleDrop(e){const t=e.dataTransfer.files;if(validateFile(t[0])){document.querySelector("input[type=file]").files=t;document.querySelector("input[type=submit]").click()}else showErrorAlert()}function highlight(e){e.classList.add("highlight")}function unhighlight(e){e.classList.remove("highlight")}function validateFile(e){return"application/pdf"===e.type}async function loadingAnimation(e){createLoading(),await retrieveDataTable(e),deleteLoading()}function deleteLoading(){document.querySelector(".loading-container").remove()}function createLoading(){const e=document.createElement("DIV");e.classList.add("loading-container");const t=document.createElement("DIV");t.classList.add("loading");const n=document.createElement("DIV");n.classList.add("lds-ring");for(let e=0;e<4;e++){const e=document.createElement("DIV");n.appendChild(e)}t.appendChild(n),e.appendChild(t),document.body.appendChild(e)}async function retrieveDataTable(e){const t=new FormData(document.querySelector(".form"));try{const e="http://localhost/SocialService/QR-project/includes/monthsPerson.php",n=await fetch(e,{method:"post",body:t}),o=await n.json(),{rfc:i}=o;console.log(o)}catch(e){console.log(e)}}function monthInput(){const e=document.querySelector(".select-input");e.addEventListener("click",(function(e){this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected")}));document.querySelector(".month-container").addEventListener("click",(function(t){t.preventDefault();const n=t.target.getAttribute("for");updateMonth(n);document.querySelector("#"+n).checked=!0,e.classList.remove("selected")}))}function updateMonth(e){document.querySelector(".select-input").textContent=e}function resetFileInput(){const e=document.querySelector(".upload-input-container"),t=document.querySelector("input[type=submit]"),n=document.createElement("INPUT");n.type="file",n.name="fileToUpload",n.accept=".pdf",n.id="fileToUpload",n.addEventListener("change",(function(){validateFile(this.files[0])?t.click():showErrorAlert()})),e.appendChild(n)}function selectAnimation(){document.querySelector(".select-container").addEventListener("click",(function(e){if(e.preventDefault(),e.target!==this){const t="#"+e.target.getAttribute("for");document.querySelector(t).checked=!0}this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected")}))}document.addEventListener("DOMContentLoaded",()=>{startApp()});
//# sourceMappingURL=bundle.js.map
