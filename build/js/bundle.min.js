function showErrorAlert(e){const t=document.createElement("DIV");t.classList.add("alert-container","in");const n=document.createElement("DIV");n.classList.add("alert","in","no-select");const o=document.createElement("SPAN"),c=document.createElement("P");c.classList.add("alert-title"),c.textContent="El archivo no se puede subir";const i=document.createElement("P");i.classList.add("alert-info"),i.textContent=e;const s=document.createElement("BUTTON");s.classList.add("button"),s.textContent="Ok",s.addEventListener("click",()=>{n.classList.remove("in"),n.classList.add("out"),t.classList.remove("in"),t.classList.add("out"),setTimeout(()=>{t.remove(),document.body.classList.remove("alert")},950)}),n.appendChild(o),n.appendChild(c),n.appendChild(i),n.appendChild(s),t.appendChild(n),t.addEventListener("click",(function(e){e.target===this&&(n.classList.remove("in"),n.classList.add("out"),this.classList.remove("in"),this.classList.add("out"),setTimeout(()=>{this.remove(),document.body.classList.remove("alert")},950))})),document.body.classList.add("alert"),document.body.appendChild(t)}function startApp(){resetFileInput(),dragNdrop()}function dragNdrop(){const e=document.querySelector(".upload-section");let t=!1;e.addEventListener("dragover",(function(e){e.preventDefault(),t=!0,highlight(this)})),e.addEventListener("dragleave",(function(e){t=!1,setTimeout(()=>{t||unhighlight(this)},10)})),e.addEventListener("drop",(function(e){e.preventDefault(),unhighlight(this),handleDrop(e)})),document.body.addEventListener("dragover",(function(e){e.preventDefault()})),document.body.addEventListener("drop",(function(e){e.preventDefault()}))}function handleDrop(e){const t=e.dataTransfer.files,{boolean:n,errorInfo:o}=validateFile(t);if(n){document.querySelector("input[type=file]").files=t;document.querySelector("input[type=submit]").click()}else showErrorAlert(o)}function highlight(e){e.classList.add("highlight")}function unhighlight(e){e.classList.remove("highlight")}function validateFile(e){return e.length>1?{boolean:!1,errorInfo:"Subir 1 archivo a la vez"}:"application/pdf"===e[0].type?{boolean:!0}:{boolean:!1,errorInfo:"El formato debe ser PDF"}}async function getData(){createLoading(),await fetchData(),deleteLoading()}function deleteLoading(){document.querySelector(".loading-container").remove()}function createLoading(){const e=document.createElement("DIV");e.classList.add("loading-container");const t=document.createElement("DIV");t.classList.add("loading");const n=document.createElement("DIV");n.classList.add("lds-ring");for(let e=0;e<4;e++){const e=document.createElement("DIV");n.appendChild(e)}t.appendChild(n),e.appendChild(t),document.body.appendChild(e)}async function fetchData(){const e=new FormData(document.querySelector(".form"));try{const t="http://localhost/SocialService/QR-project/includes/monthsPerson.php",n=await fetch(t,{method:"post",body:e}),o=await n.json(),{rfc:c}=o;console.log(o)}catch(e){console.log(e)}}function monthInput(){const e=document.querySelector(".select-input");e.addEventListener("click",(function(e){this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected")}));document.querySelector(".month-container").addEventListener("click",(function(t){t.preventDefault();const n=t.target.getAttribute("for");updateMonth(n);document.querySelector("#"+n).checked=!0,e.classList.remove("selected")}))}function updateMonth(e){document.querySelector(".select-input").textContent=e}function resetFileInput(){const e=document.querySelector(".upload-input-container"),t=document.querySelector("input[type=submit]"),n=document.createElement("INPUT");n.type="file",n.name="fileToUpload",n.accept=".pdf",n.id="fileToUpload",n.addEventListener("change",(function(){if(this.files.length>0){const{boolean:e,errorInfo:n}=validateFile(this.files);e?t.click():showErrorAlert(n)}})),e.appendChild(n)}function selectAnimation(){document.querySelector(".select-container").addEventListener("click",(function(e){if(e.preventDefault(),e.target!==this){const t="#"+e.target.getAttribute("for");document.querySelector(t).checked=!0}this.classList.contains("selected")?this.classList.remove("selected"):this.classList.add("selected")}))}document.addEventListener("DOMContentLoaded",()=>{startApp()});
//# sourceMappingURL=bundle.js.map
